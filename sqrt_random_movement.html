<html>
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="style_gamefield.css">
        <link rel = "stylesheet" href="style_text.css">  
        <link rel = "stylesheet" href="style_navigation.css"> 
    </head>
    
    <body id="game">
        <div style="margin-top: 100px"> </div>
        <center id ="blockcontrol">
            <center id ="maintext">Случайное движение</center>    
            <a href="main.html" id = "but0" class="buttons">Главная</a>
            <a href="sqrt_random_movement.html" id = "but1" class="buttons">Случайное движение</a>
            <a href="sqrt_infinity_field.html" id = "but2" class="buttons">Движение на бесконечном поле</a>
            <a href="user_guide.html" id = "but3" class="buttons">Руководство пользователя</a>
            <a href="author_about.html" id = "but4" class="buttons">О авторе</a>
            <a href="theory.html" id = "but5" class="buttons">Теория</a>
        </center>
        <div id="sqrt",name="sqrt"></div>

        <script>
            function moveSqrt(e){
                var sqrt = document.getElementById("sqrt");
                // получаем стиль для sqrt
                var cs = window.getComputedStyle(sqrt);
                var left = parseInt(cs.marginLeft);
                var top = parseInt(cs.marginTop);
                var speedMovement = 5;
           
                if (e.keyCode == 32){
                    var direction = Math.random()*3;
                    direction = Math.round(direction);
    
                    if(direction ==0){          // если нажата клавиша A
                        if(left>0)
                            sqrt.style.marginLeft = left - speedMovement + "px";
                            return;
                    }

                    if(direction ==1){         // если нажата клавиша W
                        if(top>0)
                            sqrt.style.marginTop = top - speedMovement + "px";
                            return;
                    } 
                    if(direction ==2){         // если нажата клавиша D
                        if(left < document.documentElement.clientWidth - sqrt.clientWidth)
                            sqrt.style.marginLeft = left + speedMovement + "px";
                            return;
                    }
                    if(direction ==3){// если нажата клавиша S       
                        if(top < document.documentElement.clientHeight - sqrt.clientHeight)
        	                sqrt.style.marginTop = top + speedMovement + "px";
                            return;
                    }
                }
            }
 
            addEventListener("keydown", moveSqrt);
        </script>
    </body>
</html>